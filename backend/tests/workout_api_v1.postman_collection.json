{
  "info": {
    "_postman_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
    "name": "FitNation API",
    "description": "Comprehensive Postman collection for all FitNation API v1 endpoints.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "description": "Endpoints related to user authentication, registration, and token management.",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"testuser{{$timestamp}}\",\n  \"email\": \"testuser{{$timestamp}}@example.com\",\n  \"password\": \"Str0ngP@ssw0rd!\",\n  \"role\": \"user\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrlAuth}}/register",
              "host": [
                "{{baseUrlAuth}}"
              ],
              "path": [
                "register"
              ]
            },
            "description": "Register a new user. Uses dynamic timestamp in username/email for uniqueness in testing."
          },
          "response": []
        },
        {
          "name": "Login for Access Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"testuser@example.com\",\n  \"password\": \"Str0ngP@ssw0rd!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrlAuth}}/login",
              "host": [
                "{{baseUrlAuth}}"
              ],
              "path": [
                "login"
              ]
            },
            "description": "Login with email and password to obtain access and refresh tokens."
          },
          "response": []
        },
        {
          "name": "Refresh Access Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refreshToken}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrlAuth}}/refresh",
              "host": [
                "{{baseUrlAuth}}"
              ],
              "path": [
                "refresh"
              ]
            },
            "description": "Refresh an expired access token using a valid refresh token."
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refreshToken}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrlAuth}}/logout",
              "host": [
                "{{baseUrlAuth}}"
              ],
              "path": [
                "logout"
              ]
            },
            "description": "Logout the user by revoking the refresh token."
          },
          "response": []
        },
        {
          "name": "Google Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"YOUR_GOOGLE_ID_TOKEN_HERE\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrlAuth}}/google-login",
              "host": [
                "{{baseUrlAuth}}"
              ],
              "path": [
                "google-login"
              ]
            },
            "description": "Login or register using a Google ID token."
          },
          "response": []
        }
      ]
    },
    {
      "name": "User",
      "description": "Endpoints related to user profile management.",
      "item": [
        {
          "name": "Get Current User (Me)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrlUser}}/me",
              "host": [
                "{{baseUrlUser}}"
              ],
              "path": [
                "me"
              ]
            },
            "description": "Get details of the currently authenticated user."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Exercises",
      "description": "Endpoints for retrieving exercise information.",
      "item": [
        {
          "name": "Get Exercises",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrlExercise}}/?name=Bench%20Press&body_part=Chest",
              "host": [
                "{{baseUrlExercise}}"
              ],
              "path": [
                ""
              ],
              "query": [
                {
                  "key": "name",
                  "value": "Bench Press",
                  "description": "(Optional) Filter by exercise name.",
                  "disabled": true
                },
                {
                  "key": "body_part",
                  "value": "Chest",
                  "description": "(Optional) Filter by body part.",
                  "disabled": true
                }
              ]
            },
            "description": "Get a list of exercises, optionally filtered by name or body part. This endpoint is public."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Workout Plans",
      "description": "Endpoints for managing user workout plans (templates).",
      "item": [
        {
          "name": "Get User Workout Plans",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrlWorkoutPlan}}/",
              "host": [
                "{{baseUrlWorkoutPlan}}"
              ],
              "path": [
                ""
              ]
            },
            "description": "Get all workout plans created by the current user."
          },
          "response": []
        },
        {
          "name": "Create Workout Plan",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"My Chest Day Plan\",\n  \"icon_url\": \"http://example.com/icon.png\",\n  \"equipment_selected\": [\"barbell\", \"bench\"],\n  \"one_rm_goal\": 100,\n  \"type\": \"strength\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrlWorkoutPlan}}/",
              "host": [
                "{{baseUrlWorkoutPlan}}"
              ],
              "path": [
                ""
              ]
            },
            "description": "Create a new workout plan for the current user."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Workout Sessions (Completed)",
      "description": "Endpoints for managing completed workout sessions (logs from `workouts.py`).",
      "item": [
        {
          "name": "Create Workout Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"start_time\": \"{{$isoTimestamp}}\",\n  \"end_time\": \"{{$isoTimestamp}}\", \n  \"duration_seconds\": 3600,\n  \"notes\": \"Morning run session. Adjusted end_time to be after start_time for valid duration.\",\n  \"workout_plan_id\": null,\n  \"exercise_logs\": []\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrlWorkoutSession}}/session",
              "host": [
                "{{baseUrlWorkoutSession}}"
              ],
              "path": [
                "session"
              ]
            },
            "description": "Create a new completed workout session for the current user. Note: For a valid request, ensure `end_time` is after `start_time` and `duration_seconds` matches their difference. Using `$isoTimestamp` for both will require manual adjustment or a pre-request script in Postman to set `end_time` appropriately."
          },
          "response": []
        },
        {
          "name": "Get User Completed Workout History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrlWorkoutSession}}/history?skip=0&limit=20",
              "host": [
                "{{baseUrlWorkoutSession}}"
              ],
              "path": [
                "history"
              ],
              "query": [
                {
                  "key": "skip",
                  "value": "0",
                  "description": "Number of records to skip for pagination (default: 0)."
                },
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Maximum number of records to return (default: 20, max: 100)."
                }
              ]
            },
            "description": "Retrieve the current user's completed workout history, paginated."
          },
          "response": []
        },
        {
          "name": "Get Workout Session Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrlWorkoutSession}}/session/:sessionId",
              "host": [
                "{{baseUrlWorkoutSession}}"
              ],
              "path": [
                "session",
                ":sessionId"
              ],
              "variable": [
                {
                  "key": "sessionId",
                  "value": "{{sampleSessionId}}",
                  "description": "ID of the workout session to retrieve (UUID format)."
                }
              ]
            },
            "description": "Retrieve details for a specific completed workout session for the current user."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Workout History (Legacy)",
      "description": "Endpoints for managing workout history entries (from `workoutHistory.py`). This seems to be a separate/older history system.",
      "item": [
        {
          "name": "Get Workout History by User ID",
          "request": {
            "method": "GET",
            "header": [
               {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrlWorkoutHistory}}/?user_id={{sampleUserId}}",
              "host": [
                "{{baseUrlWorkoutHistory}}"
              ],
              "path": [
                ""
              ],
              "query": [
                {
                  "key": "user_id",
                  "value": "{{sampleUserId}}",
                  "description": "UUID of the user whose history to fetch."
                }
              ]
            },
            "description": "Get workout history for a specific user ID. Auth token included as it's likely required."
          },
          "response": []
        },
        {
          "name": "Create Workout History Entry",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{sampleUserId}}\",\n  \"workout_id\": \"{{sampleWorkoutId}}\",\n  \"date\": \"{{$isoTimestamp}}\",\n  \"duration_minutes\": 60,\n  \"calories_burned\": 500,\n  \"notes\": \"Good session today!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrlWorkoutHistory}}/",
              "host": [
                "{{baseUrlWorkoutHistory}}"
              ],
              "path": [
                ""
              ]
            },
            "description": "Create a new workout history entry. Auth token included."
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8000/api/v1",
      "type": "string",
      "description": "Base URL for the API v1. Specific endpoint groups will append their paths (e.g., /auth, /users)."
    },
    {
      "key": "baseUrlAuth",
      "value": "{{baseUrl}}/auth",
      "type": "string",
      "description": "Base URL for Authentication endpoints."
    },
    {
      "key": "baseUrlUser",
      "value": "{{baseUrl}}/user",
      "type": "string",
      "description": "Base URL for User endpoints."
    },
    {
      "key": "baseUrlExercise",
      "value": "{{baseUrl}}/exercise",
      "type": "string",
      "description": "Base URL for Exercise endpoints."
    },
    {
      "key": "baseUrlWorkoutPlan",
      "value": "{{baseUrl}}/workout",
      "type": "string",
      "description": "Base URL for Workout Plan (templates from workout.py) endpoints."
    },
    {
      "key": "baseUrlWorkoutSession",
      "value": "{{baseUrl}}/workouts",
      "type": "string",
      "description": "Base URL for Workout Session (completed logs from workouts.py) endpoints."
    },
    {
      "key": "baseUrlWorkoutHistory",
      "value": "{{baseUrl}}/workoutHistory",
      "type": "string",
      "description": "Base URL for Workout History (legacy from workoutHistory.py) endpoints."
    },
    {
      "key": "authToken",
      "value": "YOUR_ACCESS_TOKEN_HERE",
      "type": "string",
      "description": "Bearer token for authentication. Obtain this from the Login endpoint."
    },
    {
      "key": "refreshToken",
      "value": "YOUR_REFRESH_TOKEN_HERE",
      "type": "string",
      "description": "Refresh token for obtaining new access tokens. Obtain this from the Login endpoint."
    },
    {
      "key": "sampleSessionId",
      "value": "00000000-0000-0000-0000-000000000001",
      "type": "string",
      "description": "An example UUID for a workout session ID (used in Workout Sessions)."
    },
    {
      "key": "sampleUserId",
      "value": "11111111-1111-1111-1111-111111111111",
      "type": "string",
      "description": "An example UUID for a user ID (used in Workout History - Legacy)."
    },
    {
      "key": "sampleWorkoutId",
      "value": "22222222-2222-2222-2222-222222222222",
      "type": "string",
      "description": "An example UUID for a workout ID (used in Workout History - Legacy)."
    }
  ]
}
